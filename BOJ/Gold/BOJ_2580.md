# 2580. 스도쿠

| 시간 제한 | 메모리 제한 | 제출  | 정답  | 맞힌 사람 | 정답 비율 |
| :-------- | :---------- | :---- | :---- | :-------- | :-------- |
| 1 초      | 256 MB      | 60553 | 17693 | 11145     | 27.264%   |

## 문제

스도쿠는 18세기 스위스 수학자가 만든 '라틴 사각형'이랑 퍼즐에서 유래한 것으로 현재 많은 인기를 누리고 있다. 이 게임은 아래 그림과 같이 가로, 세로 각각 9개씩 총 81개의 작은 칸으로 이루어진 정사각형 판 위에서 이뤄지는데, 게임 시작 전 일부 칸에는 1부터 9까지의 숫자 중 하나가 쓰여 있다.

<img src="https://upload.acmicpc.net/508363ac-0289-4a92-a639-427b10d66633/-/preview/" alt="img" style="zoom:33%;" />

나머지 빈 칸을 채우는 방식은 다음과 같다.

1. 각각의 가로줄과 세로줄에는 1부터 9까지의 숫자가 한 번씩만 나타나야 한다.
2. 굵은 선으로 구분되어 있는 3x3 정사각형 안에도 1부터 9까지의 숫자가 한 번씩만 나타나야 한다.

위의 예의 경우, 첫째 줄에는 1을 제외한 나머지 2부터 9까지의 숫자들이 이미 나타나 있으므로 첫째 줄 빈칸에는 1이 들어가야 한다.

<img src="https://upload.acmicpc.net/38e505c6-0452-4a56-b01c-760c85c6909b/-/preview/" alt="img" style="zoom:33%;" />

또한 위쪽 가운데 위치한 3x3 정사각형의 경우에는 3을 제외한 나머지 숫자들이 이미 쓰여있으므로 가운데 빈 칸에는 3이 들어가야 한다.

<img src="https://upload.acmicpc.net/89873d9d-56ae-44f7-adb2-bd5d7e243016/-/preview/" alt="img" style="zoom:33%;" />

이와 같이 빈 칸을 차례로 채워 가면 다음과 같은 최종 결과를 얻을 수 있다.

<img src="https://upload.acmicpc.net/fe68d938-770d-46ea-af71-a81076bc3963/-/preview/" alt="img" style="zoom:33%;" />

게임 시작 전 스도쿠 판에 쓰여 있는 숫자들의 정보가 주어질 때 모든 빈 칸이 채워진 최종 모습을 출력하는 프로그램을 작성하시오.

#### 입력

아홉 줄에 걸쳐 한 줄에 9개씩 게임 시작 전 스도쿠판 각 줄에 쓰여 있는 숫자가 한 칸씩 띄워서 차례로 주어진다. 스도쿠 판의 빈 칸의 경우에는 0이 주어진다. 스도쿠 판을 규칙대로 채울 수 없는 경우의 입력은 주어지지 않는다.

#### 출력

모든 빈 칸이 채워진 스도쿠 판의 최종 모습을 아홉 줄에 걸쳐 한 줄에 9개씩 한 칸씩 띄워서 출력한다.

스도쿠 판을 채우는 방법이 여럿인 경우는 그 중 하나만을 출력한다.

<br>

## 풀이

<br>

```c++
#include <stdio.h>
#include <stdlib.h>
int s[9][9] = {0, };
int used1[10][10] = {0, }; // 행에서 1~9 의 값이 쓰였는지 여부 확인하는 배열
int used2[10][10] = {0, }; // 열에서 1~9 의 값이 쓰였는지 여부 확인하는 배열
int used3[3][3][10] = {0, }; // 3x3 정사각형마다 1~9 의 값이 쓰였는지 여부 확인하는 배열

void print() {
    for(int i = 0; i < 9; i++) {
        for(int j = 0; j < 9; j++) {
            printf("%d ", s[i][j]);
        }
        printf("\n");
    }
}

// 왼쪽에서 오른쪽으로, 위에서 아래의 순서로 값 탐색하기
void f(int x, int y) {
    if(x == 8 && y == 9) {
        print();
        exit(0);
    }

    // s[x][y] 값이 0 인 경우 찾기
    if(s[x][y]) {
        if(x < 8 && y == 8) f(x+1, 0);
        else f(x, y+1);
    } else {
        for(int i = 1; i < 10; i++) {
            // 1. 칸에 들어갈 수를 결정
        		// 1-1. used1[x][i] 의 값과 used2[x/3][y/3][i] 의 값이 쓰이지 않은 경우 칸에 넣기
            if(!used1[x][i] && !used2[y][i] && !used3[x/3][y/3][i]) {
                used1[x][i] = 1;
              	used2[y][i] = 1;
                used3[x/3][y/3][i] = 1;
                s[x][y] = i;

                // 2. (x, y) 위치에 따른 행동 결정
            		// 2-2. y 의 값이 9 인 경우 다음 줄로 첫번째 값으로 넘어가기
                if(x < 8 && y == 8) f(x+1, 0);
                else f(x, y+1);

                used1[x][i] = 0;
              	used2[y][i] = 0;
                used3[x/3][y/3][i] = 0;
                s[x][y] = 0;
            }
        }
    }
}

int main() {
    int num;
    for(int i = 0; i < 9; i++) {
        for(int j = 0; j < 9; j++) {
            scanf("%d", &num);
            s[i][j] = num;
            used1[i][num] = 1;
            used2[j][num] = 1;
            used3[i/3][j/3][num] = 1;
        }
    }
    f(0, 0);
    return 0;
}
```
